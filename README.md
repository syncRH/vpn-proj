# VPN-сервис

## Описание
VPN-сервис для обхода блокировок и обеспечения анонимности в сети. Система включает в себя серверную часть, административную панель и базу данных. 
Проект реализован с использованием технологий Node.js, Express, React и MongoDB.

## Описание проекта
Этот проект представляет собой полноценный VPN-сервис, состоящий из серверной части, административной панели и базы данных. Система позволяет управлять VPN-серверами, пользователями и соединениями.

## Структура проекта
Проект состоит из следующих основных компонентов:

### Серверная часть (server)
- **Назначение**: Обработка API-запросов, управление VPN-конфигурациями и соединениями.
- **Технологии**: Node.js, Express, MongoDB (Mongoose).
- **Основные файлы**:
  - `server.js` - точка входа приложения
  - `routes/` - API-маршруты
  - `controllers/` - логика обработки запросов
  - `models/` - схемы данных MongoDB
  - `middlewares/` - промежуточные обработчики запросов

### Административная панель (admin-panel)
- **Назначение**: Веб-интерфейс для администрирования VPN-серверов.
- **Технологии**: React, Material-UI.
- **Основные файлы**:
  - `src/` - исходный код React-приложения
  - `src/context/` - контексты React для управления состоянием
  - `src/pages/` - компоненты страниц
  - `src/services/` - сервисы для взаимодействия с API

### База данных
- **Технология**: MongoDB
- **Модели данных**:
  - Серверы (servers) - информация о VPN-серверах
  - Пользователи (users) - информация об администраторах

## Установка и запуск

### Предварительные требования
- Docker и Docker Compose
- Node.js и npm (для разработки)
- Git

### Шаги установки

1. Клонировать репозиторий:
   ```bash
   git clone <url-репозитория>
   cd vpn-proj
   ```

2. Настройка переменных окружения:
   - Скопировать файл `.env.example` в `.env` в директории `server`
   - Настроить необходимые переменные окружения

3. Запуск с использованием Docker Compose:
   ```bash
   docker-compose up -d
   ```

   Это запустит все необходимые сервисы:
   - MongoDB на порту 27017
   - Серверную часть на порту 3000
   - Административную панель на порту 80

### Разработка

Для разработки серверной части:
```bash
cd server
npm install
npm run dev
```

Для разработки административной панели:
```bash
cd admin-panel
npm install
npm start
```

## Доступ к административной панели

После запуска приложения административная панель будет доступна по адресу: `http://localhost:80`

Для входа используйте:
- Логин: admin
- Пароль: пароль, указанный в конфигурации

## Архитектура VPN-сервера

Система поддерживает два типа VPN-конфигураций:
- `antizapretConfig` - базовая конфигурация для обхода блокировок
- `fullVpnConfig` - полная VPN-конфигурация для анонимного доступа

VPN-сервера характеризуются следующими параметрами:
- IP-адрес
- Статус активности
- Конфигурации и пути к файлам конфигураций
- Количество активных соединений

## API-эндпоинты

Основные API-эндпоинты:
- `/api/auth` - аутентификация пользователей
- `/api/servers` - управление VPN-серверами
- `/api/users` - управление пользователями

Все API-маршруты, кроме аутентификации, защищены middleware проверки авторизации. 